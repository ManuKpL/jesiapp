<div data-testid="back-button" class="padded">
  <jesi-button routerLink="/houses">ü°Ñ Back to houses</jesi-button>
</div>

<main class="padded spaced" *ngIf="house$ | async as house; else loading">
  <aside [class.favorite]="isFavorite">
    <img [src]="house.imagePath" [alt]="house.coatOfArms" />
  </aside>
  <div>
    <h2>{{ house.name }}</h2>
    <h3>{{ house.region }} - {{ house.seat }}</h3>
    <dl>
      <ng-container *ngIf="house.words">
        <dt>Words</dt>
        <dd>{{ house.words }}</dd>
      </ng-container>
      <dt>Coat of arms</dt>
      <dd>{{ house.coatOfArms }}</dd>
    </dl>
    <jesi-button primary (click)="addAsFavorite(house.id)" *ngIf="!isFavorite">Fav ‚ù§</jesi-button>
  </div>
</main>

<section *ngIf="characters$ | async as characters; else loading">
  <jesi-character-card *ngFor="let character of characters" [character]="character"></jesi-character-card>
</section>

<ng-template #loading>
  <jesi-loader center></jesi-loader>
</ng-template>
